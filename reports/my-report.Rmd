---
title: "Whatever"

output:
  html_notebook:
    toc: yes
    toc_float: yes
  html_document:
    df_print: paged
    toc: yes
    toc_float: yes
---

```{r setup, echo=FALSE, warning=FALSE, message=FALSE}
library(tidyverse)
library(here)
theme_set(theme_bw())
```

O dataset tinha informa??es sobre as series listadas abaixo.

```{r}
series = read_csv(here("data/series_from_imdb.csv"),
                  progress = FALSE,
                  col_types = cols(.default = col_double(),
                                   series_name = col_character(),
                                   episode = col_character(), 
                                   url = col_character(),
                                   season = col_character()))
print(unique(series[,1]))
```

Destas, foram escolhidas 4 a serem usadas para responder as seguintes perguntas:

1) Qual das s?ries ? mais bem avaliada no IMDB? A diferen?a ? grande? Pequena? Muda de acordo com as temporadas da s?rie?
2) Qual das s?ries tem epis?dios de qualidade mais irregular segundo o IMDB? A diferen?a ? grande? Pequena?

As series escolhidas foram:
```{r}
selected_series = series %>% filter(series_name %in% c("Black Mirror", "Breaking Bad", "Stranger Things", "True Detective"))

print(unique(selected_series[,1]))
```

. Overview dos dados

Sobre Breaking Bad:
```{r}
breaking_bad_eps = selected_series %>% filter(series_name %in% c("Breaking Bad"))

s1 = summarise(breaking_bad_eps %>% group_by(season), media = mean(user_rating), desvio = sd(user_rating))

print (s1)

s1 %>% 
  ggplot(aes(x = season, y = media)) + 
  geom_line() + 
  geom_point()

breaking_bad_eps %>% 
  ggplot(aes(x = season, y = user_rating)) + 
    geom_boxplot(width = .5, outlier.color = NA) +
    stat_summary(fun.y=mean, colour="darkred", geom="point", 
               shape=18, size=3, show.legend = FALSE) +
    geom_jitter(width = .1, size = 2, alpha = .5, color = "blue")
    
```

```{r}
black_mirror_eps = selected_series %>% filter(series_name %in% c("Black Mirror"))

s2 = summarise(black_mirror_eps %>% group_by(season), media = mean(user_rating), desvio = sd(user_rating))

print (s2)

s2 %>% 
  ggplot(aes(x = season, y = media)) + 
  geom_line() + 
  geom_point()

black_mirror_eps %>% 
  ggplot(aes(x = season, y = user_rating)) + 
    geom_boxplot(width = .5, outlier.color = NA) +
    stat_summary(fun.y=mean, colour="darkred", geom="point", 
               shape=18, size=3, show.legend = FALSE) +
    geom_jitter(width = .1, size = 2, alpha = .5, color = "blue")
    
```

```{r}
stranger_things_eps = selected_series %>% filter(series_name %in% c("Stranger Things"))

s3 = summarise(stranger_things_eps %>% group_by(season), media = mean(user_rating), desvio = sd(user_rating))

print (s3)

s3 %>% 
  ggplot(aes(x = season, y = media)) + 
  geom_line() + 
  geom_point()

stranger_things_eps %>% 
  ggplot(aes(x = season, y = user_rating)) + 
    geom_boxplot(width = .5, outlier.color = NA) +
    stat_summary(fun.y=mean, colour="darkred", geom="point", 
               shape=18, size=3, show.legend = FALSE) +
    geom_jitter(width = .1, size = 2, alpha = .5, color = "blue")
    
```


```{r}
true_detective_eps = selected_series %>% filter(series_name %in% c("True Detective"))

s4 = summarise(true_detective_eps %>% group_by(season), media = mean(user_rating), desvio = sd(user_rating))

print (s4)

s4 %>% 
  ggplot(aes(x = season, y = media)) + 
  geom_line() + 
  geom_point()

true_detective_eps %>% 
  ggplot(aes(x = season, y = user_rating)) + 
    geom_boxplot(width = .5, outlier.color = NA) +
    stat_summary(fun.y=mean, colour="darkred", geom="point", 
               shape=18, size=3, show.legend = FALSE) +
    geom_jitter(width = .1, size = 2, alpha = .5, color = "blue")
    
```



1) A m?dia da avalia??o de todos os epis?dios de cada s?rie ser? usada para determinar a s?rie mais bem avaliada. A s?rie com a maior m?dia ? considerada a s?rie melhor avaliada.

```{r}

grouped_series = selected_series %>% group_by(series_name)


summarise(grouped_series, media = mean(user_rating), desvio = sd(user_rating))

```
Conclus?o: Breaking Bad ? a melhor s?rie

```{r}
series_c = read_csv(here("data/series_from_imdb.csv"),
                  progress = FALSE,
                  col_types = cols(.default = col_double(),
                                   series_name = col_character(),
                                   episode = col_character(), 
                                   url = col_character(),
                                   season = col_character()))

series_c = series_c %>% filter(series_name %in% c("Breaking Bad", "True Detective", "Black Mirror", "Stranger Things"))
```

```{r}


series_c %>% 
  group_by(series_name) %>%
  ggplot(aes(x = series_name, y = user_rating, color = series_name)) + 
  geom_line() + 
  geom_point() 
```

